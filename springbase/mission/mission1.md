## 객체 지향 설계 원칙 이해하기

### **🛒 온라인 쇼핑몰 시스템 설계**

---

### **1. 요구 사항**

1. 사용자 회원 가입, 로그인, 정보 수정 및 삭제 기능이 필요합니다.
2. 상품 목록을 조회하고, 장바구니에 상품을 담고, 결제하는 기능이 필요합니다.
3. 주문 내역을 조회하고, 배송 상태를 확인할 수 있어야 합니다.
4. 관리자 페이지에서 상품을 추가, 수정, 삭제할 수 있어야 합니다.

---

### **2. SOLID 원칙 적용**

### 1. **단일 책임 원칙 (SRP)**

- 각 클래스는 **하나의 책임**만 가져야 합니다.
- **Product** 클래스는 상품 정보만 관리하고, **User** 클래스는 회원 정보만 관리합니다.
- **OrderService** 클래스는 주문 처리와 관련된 기능만 담당합니다.

### 2. **개방-폐쇄 원칙 (OCP)**

- 클래스는 **확장**에는 열려 있고, **수정**에는 닫혀 있어야 합니다.
- 예를 들어, 새로운 결제 방법을 추가하더라도 기존의 **PaymentService** 클래스를 수정하지 않고, 새로운 결제 방법을 위한 클래스를 추가할 수 있도록 설계합니다.

### 3. **리스코프 치환 원칙 (LSP)**

- 자식 클래스는 부모 클래스를 대체할 수 있어야 합니다.
- 예를 들어, **Product** 클래스가 **Electronics**, **Clothing** 등의 상품 종류에 맞게 확장될 수 있으며, 모든 하위 클래스는 **Product** 클래스를 대체할 수 있어야 합니다.

### 4. **인터페이스 분리 원칙 (ISP)**

- **클라이언트는 자신이 사용하지 않는 인터페이스에 의존하지 말아야** 합니다.
- 예를 들어, **OrderService**와 **PaymentService**는 결제 관련 기능과 주문 관련 기능을 각각 인터페이스로 분리하여 각 기능을 담당하는 서비스가 필요한 기능만 사용할 수 있도록 합니다.

### 5. **의존 역전 원칙 (DIP)**

- **고수준 모듈은 저수준 모듈에 의존하지 않도록** 설계합니다.
- **OrderService**는 **PaymentService** 인터페이스에 의존하고, 결제 방식은 실제 결제 방법을 구현한 클래스로 주입됩니다. 이로써 결제 방식이 변경되더라도 **OrderService** 클래스는 변경되지 않습니다.

---

### **3. 설계 클래스 다이어그램**

```

+--------------------+         +---------------------+         +----------------------+
|      Product       |         |     PaymentService  |         |        User           |
+--------------------+         +---------------------+         +----------------------+
| - id: String       |         | + processPayment()   |         | - userId: String      |
| - name: String     |         +---------------------+         | - email: String       |
| - price: Double    |         |                     |         | + getUserInfo(): String|
| + getDetails(): String|                                      +----------------------+
+--------------------+                                                 |
       |                                                              |
       v                                                              v
+------------------------+         +---------------------------+
|   OrderService         |         |      CreditCardPayment    |
+------------------------+         +---------------------------+
| - paymentService: PaymentService |   | + processPayment()       |
| + placeOrder(): void    |         +---------------------------+
| + cancelOrder(): void   |
+------------------------+

```

---

### **4. 클래스 설명**

### **Product 클래스**

- 상품의 이름, 가격, ID 등을 속성으로 가지고 있으며, `getDetails()` 메서드를 통해 상품 정보를 반환합니다.

### **PaymentService 인터페이스**

- 결제 서비스 관련 기능을 정의하는 인터페이스입니다.
- `processPayment()` 메서드를 정의하여 실제 결제 처리를 수행할 수 있도록 합니다.

### **OrderService 클래스**

- 주문과 관련된 모든 처리를 담당하는 서비스 클래스입니다.
- `placeOrder()` 메서드를 통해 주문을 생성하고, `cancelOrder()` 메서드를 통해 주문을 취소합니다.
- 결제 처리는 **PaymentService** 인터페이스에 의존하여 결제 방식을 외부에서 주입받습니다.

### **User 클래스**

- 사용자 정보(아이디, 이메일 등)를 관리하는 클래스입니다.
- `getUserInfo()` 메서드를 통해 사용자 정보를 반환합니다.

### **CreditCardPayment 클래스**

- **PaymentService** 인터페이스를 구현한 클래스로, 신용카드 결제 처리 방식을 구현합니다.
- `processPayment()` 메서드를 통해 신용카드 결제를 처리합니다.

---

### **5. SOLID 원칙 적용 장점**

- **유연성**: 새로운 결제 방법이나 상품 종류가 추가되더라도 기존 코드를 수정하지 않고 기능을 확장할 수 있습니다.
- **유지보수 용이성**: 각 클래스가 하나의 책임만 가지고 있어, 코드 변경 시 영향을 최소화할 수 있습니다.
- **확장성**: 결제 방식, 상품 종류 등을 인터페이스를 통해 확장할 수 있어, 새로운 방식이 필요할 때 쉽게 추가할 수 있습니다.