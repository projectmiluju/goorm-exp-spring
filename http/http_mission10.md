## HTTP/2와 HTTP/3의 개선점 비교

### **HTTP/1.1, HTTP/2, HTTP/3의 주요 특징 비교 및 성능 개선**

HTTP(Hypertext Transfer Protocol)는 웹에서 클라이언트와 서버 간의 통신을 담당하는 프로토콜입니다. HTTP는 지속적으로 발전해왔으며, 각 버전은 성능과 보안 측면에서 개선되었습니다. HTTP/1.1, HTTP/2, HTTP/3은 주요 HTTP 버전으로, 각 버전은 이전 버전에서 발생한 문제들을 해결하고 성능을 개선하는 데 중점을 두었습니다.

---

### **1. HTTP/1.1**

HTTP/1.1은 1997년에 도입된 HTTP 프로토콜로, HTTP/1.0의 개선 버전입니다. 주로 웹에서 데이터 전송에 사용되며, 중요한 특징은 다음과 같습니다.

### **주요 특징**

- **텍스트 기반 프로토콜**: 모든 요청과 응답은 사람이 읽을 수 있는 텍스트 형식입니다.
- **단일 연결**: 클라이언트와 서버 간에 하나의 연결을 통해 모든 요청과 응답을 처리합니다.
- **연결 유지**: HTTP/1.0은 각 요청마다 새로운 연결을 생성했지만, HTTP/1.1은 `keep-alive` 기능을 통해 연결을 재사용할 수 있게 했습니다.
- **헤더 압축 없음**: 요청 및 응답 헤더는 압축되지 않으며, 크기가 클 경우 성능 저하를 유발할 수 있습니다.
- **동시 요청**: HTTP/1.1에서는 클라이언트가 동시에 여러 요청을 보낼 수 없으며, 하나의 요청이 완료된 후에야 다음 요청을 보낼 수 있습니다(즉, 요청-응답 순차 처리).

### **성능 문제점**

- **Head-of-line blocking**: 하나의 요청이 지연되면 후속 요청이 대기해야 하므로 전체 성능이 저하됩니다.
- **연결 수 제한**: 여러 자원을 요청할 때 여러 연결을 열어야 하므로, 네트워크 오버헤드가 증가합니다.

---

### **2. HTTP/2**

HTTP/2는 2015년에 도입된 HTTP의 차세대 버전으로, HTTP/1.1의 성능 문제를 해결하기 위해 다양한 기술적 개선이 적용되었습니다.

### **주요 특징**

- **이진 프로토콜**: HTTP/2는 텍스트 기반이 아닌 이진(binary) 프로토콜을 사용하여, 데이터의 효율적인 전송을 가능하게 합니다.
- **멀티플렉싱**: 여러 요청과 응답을 하나의 연결에서 동시에 처리할 수 있습니다. 이를 통해 요청-응답을 병렬로 처리하여 성능을 크게 향상시킵니다.
- **헤더 압축**: HTTP/2는 `HPACK` 헤더 압축 방식을 도입하여, 요청과 응답의 헤더 크기를 줄이고 성능을 향상시킵니다.
- **서버 푸시**: 서버가 클라이언트의 요청을 예측하여 자원을 미리 보내는 기능을 지원합니다.
- **Stream 우선순위**: 각 요청에 우선순위를 지정하여, 중요한 리소스를 먼저 전송할 수 있게 합니다.

### **성능 개선**

- **Head-of-line blocking 해결**: 멀티플렉싱을 통해 요청이 병렬로 처리되어 하나의 요청이 지연되더라도 다른 요청들은 대기하지 않고 처리됩니다.
- **네트워크 효율성 향상**: 헤더 압축과 멀티플렉싱으로 인해, 데이터 전송 효율이 크게 향상되었습니다.

---

### **3. HTTP/3**

HTTP/3는 2020년에 발표된 최신 버전으로, HTTP/2의 기술적 한계를 해결하고 성능과 보안을 더욱 강화한 버전입니다. HTTP/3는 QUIC(Quick UDP Internet Connections) 프로토콜을 기반으로 합니다.

### **주요 특징**

- **QUIC 프로토콜**: HTTP/3는 TCP 대신 UDP 기반의 QUIC 프로토콜을 사용하여 연결 성능을 개선합니다. QUIC는 연결 설정과 데이터 전송 속도를 빠르게 하여, 지연 시간을 최소화합니다.
- **내장된 암호화**: QUIC는 기본적으로 암호화가 내장되어 있어 HTTPS 프로토콜을 강제로 사용합니다.
- **제로-RTT 연결 설정**: QUIC는 연결을 설정하는 데 필요한 시간을 줄이고, 이전에 연결된 서버와의 통신에서는 `제로-RTT` 연결 설정을 통해 빠르게 데이터를 전송할 수 있습니다.
- **멀티플렉싱 및 헤더 압축**: HTTP/2에서 제공한 멀티플렉싱과 헤더 압축을 그대로 지원하며, QUIC 프로토콜의 특성으로 인해 더욱 효율적인 성능을 제공합니다.

### **성능 개선**

- **연결 성능 향상**: QUIC는 연결 설정 시간을 단축시켜 페이지 로딩 속도를 개선합니다. 초기 연결 시, TCP에서는 3-way handshake가 필요하지만, QUIC는 이를 1번의 round-trip으로 단축시킵니다.
- **패킷 손실 처리 개선**: QUIC는 TCP보다 패킷 손실에 더 강력하게 대응할 수 있으며, 패킷 손실이 발생해도 다른 요청에 영향을 주지 않습니다.

---

### **HTTP 버전 비교표**

| **특징** | **HTTP/1.1** | **HTTP/2** | **HTTP/3** |
| --- | --- | --- | --- |
| **프로토콜** | 텍스트 기반 | 이진 기반 | QUIC(UDP 기반) |
| **멀티플렉싱** | 불가능 | 가능 | 가능 |
| **헤더 압축** | 없음 | HPACK 헤더 압축 | QPACK 헤더 압축 |
| **연결 수** | 하나의 연결로 요청-응답 순차 처리 | 하나의 연결에서 병렬 처리 | 하나의 연결에서 병렬 처리 |
| **서버 푸시** | 없음 | 지원 | 지원 |
| **연결 설정 시간** | 길다 (TCP 연결 설정 포함) | 빨라짐 (TCP 기반) | 매우 빠름 (QUIC의 0-RTT 연결 설정) |
| **보안** | 옵션 (HTTPS 사용 가능) | 옵션 (HTTPS 사용 가능) | 기본적으로 HTTPS (암호화 내장) |

---

### **HTTP/2와 HTTP/3의 성능 개선점**

- **HTTP/2의 성능 개선**:
    - **멀티플렉싱**을 통해 동시에 여러 요청을 처리할 수 있어 **Head-of-line blocking**을 해결합니다.
    - **헤더 압축**(HPACK)을 통해 요청과 응답의 헤더 크기를 줄여 데이터 전송 효율성을 개선합니다.
    - **서버 푸시**를 통해 서버가 클라이언트의 요청을 예측하여 미리 필요한 리소스를 전송함으로써 페이지 로딩 속도를 개선합니다.
- **HTTP/3의 성능 개선**:
    - **QUIC 프로토콜**을 사용하여 TCP의 한계를 극복하고, **연결 설정 시간**을 단축시킵니다. 이를 통해 **제로-RTT** 연결 설정을 지원하여 페이지 로딩 시간을 더욱 단축시킵니다.
    - **패킷 손실 처리**가 개선되어 네트워크의 불안정성이 성능에 미치는 영향을 최소화합니다.
    - **기본적으로 HTTPS**를 지원하여 보안을 강화하고, 암호화된 전송이 기본으로 이루어집니다.

---

### **결론**

HTTP는 각 버전마다 성능과 보안 측면에서 개선되었습니다. HTTP/1.1은 기본적인 웹 페이지 로딩에 사용되었으나, **HTTP/2**는 멀티플렉싱, 헤더 압축, 서버 푸시 등을 통해 성능을 개선하고, **HTTP/3**는 QUIC 프로토콜을 도입하여 **연결 설정 시간** 단축과 **패킷 손실 처리** 향상 등을 통해 최신 웹에서의 성능을 크게 향상시킵니다. HTTP/3는 특히 모바일 환경과 같은 높은 지연 시간을 가지는 네트워크에서 그 강점을 발휘합니다.